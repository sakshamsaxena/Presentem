/*
Licensed under CC BY 4.0 (https://creativecommons.org/licenses/by/4.0)
License in layman language:
You are free to "share" and "adapt" this material for any purpose, even commercially, under the conditions that you must give aprropriate credit to the author (Saksham Saxena [https://github.com/sakshamsaxena]) and you must not put any additional restrictions.
*/
(function(a){function f(){var c=a(".presentem-wall");c.length&&(c.fadeOut(800),c.queue(function(){c.remove();c.dequeue()}))}function g(c){var b=document.body.getBoundingClientRect().width;document.body.getBoundingClientRect();b=(b-c.fWidth)/2-20+"px";c=40+c.fHeight/2+"px";a("#presentem-ctrl-next,#presentem-ctrl-prev").css("top",c);a("#presentem-ctrl-next").css("right",b);a("#presentem-ctrl-prev").css("left",b)}function m(b,e){2!==b?console.log("Nopes"):(a("body").append("<div class='presentem-wall'></div>"),
a("div.presentem-wall").css("height",window.innerHeight+"px").append("<div class='presentem-frame'></div>").append('<svg version="1.1" id="presentem-ctrl-close" x="0px" y="0px" width="14px" height="14px" viewBox="0 0 14 14" xml:space="preserve"><polygon points="14,3 11,0 7,4 3,0 0,3 4,7 0,11 3,14 7,10 11,14 14,11 10,7 "/></svg>').append('<svg id="presentem-ctrl-prev" x="0px" y="0px" width="14px" height="14px" viewBox="0 0 14 14"  xml:space="preserve"><polygon points="11.949,3.404 7,8.354 2.05,3.404 -0.071,5.525 7,12.596 14.07,5.525 "/></svg>').append('<svg id="presentem-ctrl-next" x="0px" y="0px" width="14px" height="14px" viewBox="0 0 14 14"  xml:space="preserve"><polygon points="11.949,3.404 7,8.354 2.05,3.404 -0.071,5.525 7,12.596 14.07,5.525 "/></svg>'),
a.ajax({url:d[0],beforeSend:function(){a("body").append("<div class='presentem-loader'></div>")},complete:function(){n(e);a(".presentem-loader").remove()}}))}function n(c){g(c);a("div.presentem-wall").animate({opacity:1},{duration:800,queue:!0}).queue(function(){a("div.presentem-frame").animate({height:c.fHeight+"px"},{duration:800,queue:!0}).animate({width:c.fWidth+"px"},{duration:800,queue:!0});a(this).dequeue()}).delay(1600).queue(function(){a("#presentem-ctrl-prev").animate({opacity:"1"},{duration:800,
queue:!1});a(this).dequeue()}).queue(function(){a("#presentem-ctrl-next").animate({opacity:"1"},{duration:800,queue:!1});a(this).dequeue()}).queue(function(){a("#presentem-ctrl-close").animate({opacity:"1"},{duration:800,queue:!1});a(this).dequeue()});a("div.presentem-frame").append("<img id='presentem-curr-img' src='"+d[0]+"' width=100%>");a("#presentem-ctrl-next").click(function(){for(b=0;b<e&&a("#presentem-curr-img").attr("src")!==d[b];b++);b+1>=e&&(b=-1);a.ajax({url:d[b+1],beforeSend:function(){a(".presentem-wall").append("<div class='presentem-loader'></div>")},
complete:function(){a("#presentem-curr-img").fadeOut(400,function(){a(this).attr("src",d[b+1]).fadeIn()});a(".presentem-loader").remove()}})});a("#presentem-ctrl-prev").click(function(){for(b=0;b<e&&a("#presentem-curr-img").attr("src")!==d[b];b++);0>b-1&&(b=e);a.ajax({url:d[b-1],beforeSend:function(){a(".presentem-wall").append("<div class='presentem-loader'></div>")},complete:function(){a("#presentem-curr-img").fadeOut(400,function(){a(this).attr("src",d[b-1]).fadeIn()});a(".presentem-loader").remove()}})})}
var b,e=0,d=[],k=window.location.href.substring(0,window.location.href.lastIndexOf("/")+1),l=0;a.fn.presentem=function(b){var h=a.extend({fHeight:"500",fWidth:"500"},b);this.each(function(){var b=a(this),c=b.data("hqimg");if(b.is("img")){if(b=c)b=new XMLHttpRequest,b.open("HEAD",k+c),b.send(),404!==b.status?(e++,b=!0):b=!1;b?(d.push(k+c),l=2):console.log("Paths not correct")}});m(l,h);a("div.presentem-wall").click(function(){f()});a("div.presentem-wall").children().click(function(a){a.stopPropagation?
a.stopPropagation():a.cancelBubble=!0});a(document).keyup(function(a){27!==a.keyCode&&27!==a.which||f()});a("#presentem-ctrl-close").click(function(){f()});a(window).resize(function(){g(h)})}})(jQuery);